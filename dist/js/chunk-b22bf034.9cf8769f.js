(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b22bf034"],{"057f":function(t,e,n){var r=n("fc6a"),a=n("241c").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?i(t):a(r(t))}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d3b7");function r(t,e,n,r,a,s,o){try{var i=t[s](o),c=i.value}catch(u){return void n(u)}i.done?e(c):Promise.resolve(c).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,s){var o=t.apply(e,n);function i(t){r(o,a,s,i,c,"next",t)}function c(t){r(o,a,s,i,c,"throw",t)}i(void 0)}))}}},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"746f":function(t,e,n){var r=n("428f"),a=n("5135"),s=n("e538"),o=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});a(e,t)||o(e,t,{value:s.f(t)})}},a4d3:function(t,e,n){"use strict";var r=n("23e7"),a=n("da84"),s=n("d066"),o=n("c430"),i=n("83ab"),c=n("4930"),u=n("fdbf"),f=n("d039"),l=n("5135"),d=n("e8b5"),m=n("861d"),b=n("825a"),h=n("7b0b"),v=n("fc6a"),p=n("c04e"),g=n("5c6c"),_=n("7c73"),y=n("df75"),w=n("241c"),O=n("057f"),B=n("7418"),j=n("06cf"),S=n("9bf2"),C=n("d1e7"),P=n("9112"),k=n("6eeb"),x=n("5692"),D=n("f772"),E=n("d012"),$=n("90e3"),N=n("b622"),T=n("e538"),R=n("746f"),M=n("d44e"),J=n("69f3"),F=n("b727").forEach,U=D("hidden"),I="Symbol",Q="prototype",W=N("toPrimitive"),q=J.set,z=J.getterFor(I),A=Object[Q],G=a.Symbol,H=s("JSON","stringify"),K=j.f,L=S.f,V=O.f,X=C.f,Y=x("symbols"),Z=x("op-symbols"),tt=x("string-to-symbol-registry"),et=x("symbol-to-string-registry"),nt=x("wks"),rt=a.QObject,at=!rt||!rt[Q]||!rt[Q].findChild,st=i&&f((function(){return 7!=_(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(A,e);r&&delete A[e],L(t,e,n),r&&t!==A&&L(A,e,r)}:L,ot=function(t,e){var n=Y[t]=_(G[Q]);return q(n,{type:I,tag:t,description:e}),i||(n.description=e),n},it=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ct=function(t,e,n){t===A&&ct(Z,e,n),b(t);var r=p(e,!0);return b(n),l(Y,r)?(n.enumerable?(l(t,U)&&t[U][r]&&(t[U][r]=!1),n=_(n,{enumerable:g(0,!1)})):(l(t,U)||L(t,U,g(1,{})),t[U][r]=!0),st(t,r,n)):L(t,r,n)},ut=function(t,e){b(t);var n=v(e),r=y(n).concat(bt(n));return F(r,(function(e){i&&!lt.call(n,e)||ct(t,e,n[e])})),t},ft=function(t,e){return void 0===e?_(t):ut(_(t),e)},lt=function(t){var e=p(t,!0),n=X.call(this,e);return!(this===A&&l(Y,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Y,e)||l(this,U)&&this[U][e])||n)},dt=function(t,e){var n=v(t),r=p(e,!0);if(n!==A||!l(Y,r)||l(Z,r)){var a=K(n,r);return!a||!l(Y,r)||l(n,U)&&n[U][r]||(a.enumerable=!0),a}},mt=function(t){var e=V(v(t)),n=[];return F(e,(function(t){l(Y,t)||l(E,t)||n.push(t)})),n},bt=function(t){var e=t===A,n=V(e?Z:v(t)),r=[];return F(n,(function(t){!l(Y,t)||e&&!l(A,t)||r.push(Y[t])})),r};if(c||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=$(t),n=function(t){this===A&&n.call(Z,t),l(this,U)&&l(this[U],e)&&(this[U][e]=!1),st(this,e,g(1,t))};return i&&at&&st(A,e,{configurable:!0,set:n}),ot(e,t)},k(G[Q],"toString",(function(){return z(this).tag})),k(G,"withoutSetter",(function(t){return ot($(t),t)})),C.f=lt,S.f=ct,j.f=dt,w.f=O.f=mt,B.f=bt,T.f=function(t){return ot(N(t),t)},i&&(L(G[Q],"description",{configurable:!0,get:function(){return z(this).description}}),o||k(A,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),F(y(nt),(function(t){R(t)})),r({target:I,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=G(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!i},{create:ft,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:bt}),r({target:"Object",stat:!0,forced:f((function(){B.f(1)}))},{getOwnPropertySymbols:function(t){return B.f(h(t))}}),H){var ht=!c||f((function(){var t=G();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));r({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,n){var r,a=[t],s=1;while(arguments.length>s)a.push(arguments[s++]);if(r=e,(m(e)||void 0!==t)&&!it(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),a[1]=e,H.apply(null,a)}})}G[Q][W]||P(G[Q],W,G[Q].valueOf),M(G,I),E[U]=!0},acf2:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"profile"}},[n("h1",[t._v("Бонуси")]),t.bonus!={}?n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Поточна сума бонусу становить:")]),n("h1",{staticClass:"text-success"},[t._v(t._s(t.bonus.sum)+" грн.")])]):t._e(),t.adminRules&&1==t.bonusChangeMode?n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Встановлення бонусу")]),n("div",{staticClass:"mt-3 col-4"},[n("div",{},[n("label",{attrs:{for:"bonusSum"}},[t._v("Вкажіть суму бонусу")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataBonus.sum,expression:"dataBonus.sum"}],staticClass:"form-control",attrs:{type:"text",name:"bonusSum",id:"bonusSum"},domProps:{value:t.dataBonus.sum},on:{input:function(e){e.target.composing||t.$set(t.dataBonus,"sum",e.target.value)}}}),n("button",{staticClass:"btn btn-primary mt-3",on:{click:t.setBonus}},[t._v(" Зберегти ")])])])]):t._e(),t.adminRules&&0==t.bonusChangeMode?n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Зміна суми бонусу")]),n("div",{staticClass:"mt-3 col-4"},[n("div",{},[n("label",{attrs:{for:"bonusSum"}},[t._v("Вкажіть суму бонусу")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataBonus.sum,expression:"dataBonus.sum"}],staticClass:"form-control",attrs:{type:"text",name:"bonusSum",id:"bonusSum"},domProps:{value:t.dataBonus.sum},on:{input:function(e){e.target.composing||t.$set(t.dataBonus,"sum",e.target.value)}}}),n("button",{staticClass:"btn btn-primary mt-3",on:{click:t.editBonus}},[t._v(" Зберегти ")])])])]):t._e(),t.adminRules?t._e():n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Хочу бонус")]),n("div",{staticClass:"form"},[n("div",{staticClass:"form"},[n("label",{attrs:{for:"enterSumm"}},[t._v("Введіть суму")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.catchBonusData.await_summ,expression:"catchBonusData.await_summ"}],staticClass:"form-control",attrs:{type:"text",name:"enterSumm"},domProps:{value:t.catchBonusData.await_summ},on:{input:function(e){e.target.composing||t.$set(t.catchBonusData,"await_summ",e.target.value)}}}),t.validateEdits.error?n("small",[t._v(t._s(t.validateEdits.msg))]):t._e()]),n("button",{staticClass:"btn btn-primary mt-3",attrs:{disabled:t.validateEdits.error},on:{click:t.catchBonus}},[t._v(" Відправити заявку ")])])]),t.adminRules?t._e():n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Мої заявки")]),n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.tickets,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r))]),n("td",[t._v(t._s(e.await_summ)+" грн.")]),n("td",[t._v(t._s(e.created_at))])])})),0)])]),t.adminRules?n("section",{staticClass:"col-10"},[n("hr"),n("h4",[t._v("Бажаючі отримати бонус")]),n("table",{staticClass:"table"},[t._m(1),n("tbody",t._l(t.bonus.tickets,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r))]),n("td",[t._v(t._s(e.await_summ)+" грн.")]),n("td",[t._v(t._s(t.getUserBy(e.user_id)))]),n("td",[t._v(t._s(e.created_at))]),n("td",[n("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.accept(e,!1)}}},[t._v("Відхилити")]),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(n){return t.accept(e,!0)}}},[t._v("Прийняти")])])])])})),0)])]):t._e()])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("td",[t._v("#")]),n("td",[t._v("Сума")]),n("td",[t._v("Дата створення")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("td",[t._v("#")]),n("td",[t._v("Сума")]),n("td",[t._v("Ким створено заявку")]),n("td",[t._v("Дата створення")]),n("td",[t._v("Дії")])])])}],s=n("1da1"),o=n("5530"),i=(n("96cf"),n("4de4"),n("99af"),n("b0c0"),n("2f62")),c={data:function(){return{tickets:[],dataBonus:{sum:0},catchBonusData:{await_summ:0}}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])(["account","bonus"])),{},{validateEdits:function(){var t={msg:"",error:!1};return this.catchBonusData.await_summ>this.bonus.sum&&(t={msg:"Сума не може перевищувати поточний бонус",error:!0}),this.catchBonusData.await_summ<0&&(t={msg:"Сума не може бути менше нуля",error:!0}),t},adminRules:function(){return 1==this.account.data.user.assignTo},bonusChangeMode:function(){return this.bonus=={}||""==this.bonus}}),methods:{getUserBy:function(t){var e=this.$store.state.users,n=e.filter((function(e){return e.bitrix_id===t}))[0];return"".concat(n.midname," ").concat(n.name)},accept:function(t,e){var n=this,r={url:"bonus/accept",method:"patch",data:{created_at:t.created_at,accept:e}};this.$http(r).then((function(t){alert("Статус змінено!"),console.log(t),n.getBonus()}))},getMyTickets:function(){var t=this,e={url:"bonus/get/"+this.account.data.user.assignTo,method:"get"};this.$http(e).then((function(e){return t.tickets=e.data}))},getBonus:function(){var t=this,e={url:"bonus/get",method:"get"};this.$http(e).then((function(e){t.$store.commit("SET_BONUS",e.data)}))},setBonus:function(){var t=this,e={url:"bonus/init",method:"post",data:this.dataBonus};this.$http(e).then((function(e){alert("Бонус встановлено!"),t.getBonus()}))},catchBonus:function(){var t=this,e={await_summ:this.catchBonusData.await_summ,user_id:this.account.data.user.assignTo},n={url:"bonus/catch",method:"patch",data:e};this.$http(n).then((function(e){console.log(e),alert("Успішно відправлено"),t.getMyTickets()}))},editBonus:function(){var t=this,e={url:"bonus/edit",method:"patch",data:this.dataBonus};this.$http(e).then((function(e){alert("Суму бонусу змінено"),t.getBonus()}))}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getBonus();case 2:return e.next=4,t.getMyTickets();case 4:case"end":return e.stop()}}),e)})))()}},u=c,f=n("2877"),l=Object(f["a"])(u,r,a,!1,null,null,null);e["default"]=l.exports},b0c0:function(t,e,n){var r=n("83ab"),a=n("9bf2").f,s=Function.prototype,o=s.toString,i=/^\s*function ([^ (]*)/,c="name";r&&!(c in s)&&a(s,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),s=n("df75"),o=n("d039"),i=o((function(){s(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return s(a(t))}})},dbb4:function(t,e,n){var r=n("23e7"),a=n("83ab"),s=n("56ef"),o=n("fc6a"),i=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),a=i.f,u=s(r),f={},l=0;while(u.length>l)n=a(r,e=u[l++]),void 0!==n&&c(f,e,n);return f}})},e439:function(t,e,n){var r=n("23e7"),a=n("d039"),s=n("fc6a"),o=n("06cf").f,i=n("83ab"),c=a((function(){o(1)})),u=!i||c;r({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r}}]);
//# sourceMappingURL=chunk-b22bf034.9cf8769f.js.map